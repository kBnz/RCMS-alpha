{if $items|@count > 0}
{module name="api_general_relation"}
<h2 class="module_title"><span>関連データ{if $source} ({$source.name}){/if}</span></h2>
<div class="module_contents">

  <table>
    <tbody>
      {foreach from=$items item=item}
      <tr>
        <td>
            {if !$source}<p>{$sources[$item.data_source].name}</p>{/if}
            <p><a href="/api_general_detail/id={$item.internal_id}">{$item.name}</a></p>
            {if !$source}{$sources[$item.data_source].credit}{/if}
        </td>
      </tr>
      {/foreach}
    </tbody>
  </table>

  {* クレジットを関連外部データの下部にまとめて表示する場合に利用します。
  {foreach from=$credits item=credit}
  <div>{$credit}</div>
  {/foreach}
  *}
</div>
{/module}
{/if}
