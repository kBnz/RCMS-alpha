{module name="calendar"}
<h2 class="module_title">
    {if $arrPreDate}
    <a href="{$smarty.const.ROOT_URL}/{$page_sysnm}/day={$date}&ym={$arrPreDate[0]}{$arrPreDate[1]}">&lt;&lt;</a>
    {/if}
    &nbsp;{$arrDate[0]}年{$arrDate[1]}月&nbsp;
    <a href="{$smarty.const.ROOT_URL}/{$page_sysnm}/day={$date}&ym={$arrAftDate[0]}{$arrAftDate[1]}">&gt;&gt;</a>
</h2>
<div class="module_contents">
<table width="100%" cellspacing="2">
  <tr>
    <th>日</th>
    <th>月</th>
    <th>火</th>
    <th>水</th>
    <th>木</th>
    <th>金</th>
    <th>土</th>
  </tr>
  <tr>
    {section loop=$spaceDateCount%7 name=space}
      <td>&nbsp;</td>
    {/section}
    {section loop=$monthDateCount name=i}
      {if $Prog_list[i] && $Prog_list[i] >= $today}
        <td><a href="{$smarty.const.ROOT_URL}/{$page_sysnm}/day={$arrDate[0]}-{$arrDate[1]}-{$smarty.section.i.iteration}">{$smarty.section.i.iteration}</a></td>
      {else}
        <td>{$smarty.section.i.iteration}</td>
      {/if}
      {if $smarty.section.i.iteration%7 eq 7-$spaceDateCount}
         </tr><tr>
      {/if}
    {/section}
    {if $remainder != 7}
      {section loop=$remainder name=remainder}
        <td>&nbsp;</td>
      {/section}
    {/if}
  </tr>
</table>
</div>
{/module}
